# Expert Review: OMTS Entity Identification Specification (Revision 2)

**Reviewer:** Entity Identification Expert, Entity Identification & Corporate Hierarchy Specialist
**Spec Reviewed:** OMTS-SPEC-001 -- Entity Identification (Draft, Revision 2, 2026-02-17)
**Date:** 2026-02-18
**Review Type:** Post-panel follow-up (assessing P0 remediation)

---

## Assessment

Revision 2 addresses both of my P0 critical findings with a level of specificity that reflects genuine operational understanding of the D&B and GLEIF ecosystems. After 17 years resolving entity identity ambiguities across these systems, I can say this spec has moved from theoretically sound to practically implementable for the entity identification problem.

The DUNS branch/HQ disambiguation (P0-13, Section 4.1 under `duns`) maps the full D&B Family Tree model -- Global Ultimate, Domestic Ultimate, Parent, Headquarters, Branch -- to OMTS node types and edge types. The critical distinction is stated correctly: a branch DUNS identifies a physical location, not a separate legal entity, and belongs on a `facility` node. The HQ DUNS is the canonical identifier for the legal entity itself. The guidance that an ambiguous DUNS (the common case in ERP systems, which rarely store the HQ/branch flag) should default to an `organization` node with noted ambiguity is pragmatic and avoids false precision. The L3 validation rule (L3-ID-07) that DUNS on `organization` nodes SHOULD be HQ-level is the right enforcement tier -- you cannot validate this without querying D&B's Family Tree, which is a premium product.

The LEI lifecycle status handling (P0-14, Section 4.1 under `lei`) is thorough and correct. The five-status model (ISSUED, LAPSED, RETIRED, MERGED, ANNULLED) with differentiated merge behavior is exactly what I recommended. The crucial distinction: LAPSED LEIs are still valid for merge because the entity is unchanged -- only the registration fee is unpaid. This is a subtlety that most implementations get wrong by treating LAPSED as invalid. ANNULLED LEIs correctly receive the strongest treatment: MUST NOT be used for merge, treated as invalid, L2 error. The recommendation that MERGED LEIs generate `former_identity` edges with `event_type: "merger"`, and that tooling should retrieve GLEIF `SuccessorEntity` data for automatic edge generation, demonstrates understanding of the GLEIF Level 2 data model.

The canonical string format resolution (P0-2, Section 3.4) as `scheme:authority:value` with percent-encoding for literal colons and explicit test vectors is a clean resolution. This unblocks boundary reference hashing interoperability and merge identity comparison, both of which depend on byte-exact canonical representations.

The merge transitive closure requirement (P0-3, Section 9.3 step 3) resolves the non-transitivity concern I shared with Prof. Graph Modeling Expert. The spec now explicitly requires that if node X matches Y via LEI and Y matches Z via DUNS, all three merge into a single node. The union-find implementation note is a welcome addition -- this is the correct data structure for the operation. The algebraic properties (Section 9.4) -- commutativity, associativity, idempotency -- are now formally required, which is essential for decentralized merge to produce deterministic results.

## Strengths

- **D&B Family Tree mapping is operationally accurate.** The five-level model (Global Ultimate through Branch) with correct OMTS node type assignments reflects how D&B actually structures its data. The spec avoids the common mistake of treating all DUNS numbers as equivalent.
- **LEI lifecycle granularity exceeds most implementations.** Distinguishing LAPSED from RETIRED from MERGED, with appropriate merge behavior for each, is more nuanced than what most commercial entity resolution platforms provide. The ANNULLED status receiving the strongest prohibition is correct -- these LEIs were issued in error and must never anchor a merge.
- **Ambiguity handling is pragmatic.** The guidance for unknown HQ/branch status ("assign to `organization` and note the ambiguity") accepts the reality that most ERP systems store a single DUNS without the D&B relationship context. This avoids forcing producers into incorrect classifications.
- **`former_identity` edge for MERGED LEIs is well-designed.** The direction convention (predecessor to successor), the `event_type` enum covering merger, acquisition, rename, demerger, and spin-off, and the temporal `effective_date` property create a complete identity transformation model. This maps directly to what GLEIF provides in its Level 2 relationship data.

## Concerns

- **[Major] No guidance for conflicting DUNS-to-LEI mappings during merge.** In practice, D&B and GLEIF maintain separate entity registries that do not always agree on entity boundaries. A subsidiary may have its own LEI but share a DUNS with its parent (or vice versa). When merge encounters a node with `lei:X` from file A and a node with `duns:Y` from file B, and a third file C contains a node with both `lei:X` and `duns:Y`, the transitive closure merges all three. But what if file D contains a node with `duns:Y` and `lei:Z` (a different LEI)? Now the merge transitively links `lei:X` and `lei:Z` via `duns:Y`, potentially merging two distinct legal entities that D&B happened to assign the same DUNS. This is not hypothetical -- D&B periodically reassigns DUNS numbers, and the same DUNS may identify different entities at different points in time. The temporal validity fields (`valid_from`, `valid_to`) on identifier records should theoretically prevent this, but the merge identity predicate (Section 9.1) does not require temporal overlap checking.

- **[Major] Joint ventures and split-identity entities remain unmodeled (M30).** The D&B Family Tree and GLEIF hierarchy both struggle with joint ventures, which have multiple parents with shared control. The `ownership` edge handles the equity split, but an entity with 50/50 ownership appears under two Global Ultimate trees in D&B. The spec has no mechanism to represent that an entity is a joint venture with shared governance, as distinct from a subsidiary with a minority co-investor. A `joint_venture` property on `organization` nodes or a dedicated `joint_control` edge type would address this. This matters because CSDDD Article 22 treats joint venture partners differently from parent-subsidiary relationships regarding due diligence obligations.

- **[Moderate] No confidence scoring on cross-scheme identity assertions.** When a merge engine links two nodes via different identifier schemes (e.g., one has LEI, the other has DUNS), the confidence of that link depends heavily on which schemes are involved. An LEI match is essentially authoritative (LEI is a verified, unique global identifier). A DUNS match is high-confidence but not immune to reassignment. A `nat-reg` match is strong within its jurisdiction. A name-based match is weak. The identity predicate (Section 9.1) treats all scheme matches equally. A `confidence` or `match_strength` attribute on the merge result, or a scheme-level confidence hierarchy in the spec, would help downstream consumers assess merge quality. This connects to my P1-31 recommendation.

- **[Moderate] No temporal overlap requirement in the identity predicate.** The merge identity predicate (Section 9.1) checks scheme, value, and authority equality but does not consider `valid_from` / `valid_to`. An identifier that was valid 2010-2015 and one valid 2020-2025 could be the same identifier value reassigned to a different entity (this happens with DUNS and GLN). Without temporal overlap as a merge condition, stale identifiers in historical data could cause false merges. At minimum, a warning should be emitted when identifier temporal ranges do not overlap.

- **[Minor] OpenCorporates reconciliation not referenced as an enrichment source.** OpenCorporates aggregates 250M+ company records from 140+ jurisdictions and provides a free reconciliation API. For producers with only names and jurisdictions (no external identifiers), OpenCorporates is often the most accessible path to obtaining `nat-reg` identifiers. A mention in the enrichment lifecycle section (Section 14.2) or as a known extension scheme mapping would aid adoption.

## Recommendations

1. **(P1) Add temporal overlap consideration to the merge identity predicate.** The identity predicate (Section 9.1) should either require that identifier temporal ranges overlap or be open-ended for a match, or emit a L2 warning when non-overlapping temporal ranges are detected. This prevents false merges caused by identifier reassignment (most common with DUNS and GLN). This is not P0 because the temporal fields are optional and most producers do not populate them today, but it should be resolved before v1.

2. **(P1) Add joint venture representation guidance.** Define a `governance_structure` property on `organization` nodes with values including `sole_subsidiary`, `joint_venture`, `consortium`, and `cooperative`. When `governance_structure` is `joint_venture`, multiple inbound `ownership` edges with percentage values summing to 100% (or near 100%) indicate shared control. This is lighter than a new edge type and captures the essential distinction for CSDDD Article 22 analysis.

3. **(P1) Define a confidence hierarchy for identifier scheme matches.** Document that LEI matches are authoritative, DUNS matches are high-confidence, `nat-reg` matches are high-confidence within jurisdiction, `gln` matches are moderate (GLN can identify locations or entities), and `vat` matches are moderate (VAT numbers are less stable than registry numbers). This does not change the merge algorithm but informs tooling that displays or audits merge results.

4. **(P2) Reference OpenCorporates as an enrichment data source.** Add OpenCorporates (`org.opencorporates`) to the enrichment workflow discussion in Section 14.2 as a recommended source for obtaining `nat-reg` identifiers when producers have only entity names and jurisdictions. The extension scheme `org.opencorporates` is already defined in Section 4.2; connecting it to the enrichment lifecycle would close the loop.

5. **(P2) Acknowledge DUNS reassignment risk in the DUNS scheme documentation.** Add a note to Section 4.1 under `duns` that D&B occasionally reassigns DUNS numbers (e.g., upon entity dissolution and new entity registration at the same address), and that producers SHOULD populate `valid_from` and `valid_to` on DUNS identifiers when the assignment date is known, to reduce false merge risk.

## Cross-Expert Notes

- **For Prof. Graph Modeling Expert (Graph Data Modeling):** The transitive closure requirement you advocated is now in the spec and is correct. However, it creates a specific risk I flag above: transitive closure across schemes can link entities that should not be linked when identifier reassignment has occurred. The temporal overlap question is the resolution -- if the identity predicate were extended to require temporal compatibility, transitive closure would remain safe. I would support co-authoring a more precise definition of "temporally compatible identity predicate" for v1.

- **For Dr. Regulatory Compliance Expert (Regulatory Compliance):** Your recommendation for a `confidence` field on `beneficial_ownership` edges aligns with my recommendation for a confidence hierarchy on identifier matches. UBO data quality is poor precisely because the entity identification underneath it is poor -- if you cannot confidently identify the entity, you cannot confidently identify its owners. I would support a unified confidence/verification metadata model applicable to identifiers, edges, and nodes, as you suggest.

- **For Enterprise Integration Expert (Enterprise Systems):** The intra-file deduplication guidance (Section 14.1) is well-structured, and the `same_as` edge for uncertain deduplication is a good escape valve. In my experience at D&B, the most common deduplication signal in ERP systems is matching on VAT number + country -- if two vendor records share a VAT number in the same jurisdiction, they are almost certainly the same entity. This could be elevated to a recommended deduplication heuristic in the producer guidance.

- **For Dr. Security & Privacy Expert (Security & Privacy):** The boundary reference hash collision fix (using random tokens for entities with no public identifiers) resolves the critical vulnerability we both identified. One residual concern: if the same entity appears in two separately exported files, both using random boundary reference tokens, the two boundary references will not match during merge. This is by design (you cannot merge what you cannot identify), but it means that redacted subgraphs are inherently un-mergeable for entities that lack public identifiers. This limitation should be documented explicitly in Section 10.3.

- **For Open Source Strategy Expert (Open Source Strategy):** The scheme governance process (Section 4.3) and the GLEIF RA list versioning (Section 4.4) address your critical findings effectively. The 30-day review period for new schemes and the quarterly RA list snapshot cadence are reasonable. One governance gap remains: who maintains the RA list snapshot? If this falls to a single volunteer, it becomes a bus-factor-1 dependency. The snapshot update process should be automated (scripted download + validation + PR) to reduce maintenance burden.
